<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Fees &amp; Payments - Admin ERP</title>
    <link href="/static/style.css" rel="stylesheet" />
    <link href="/static/admin/css/components.css" rel="stylesheet" />
    <link href="/static/admin/css/fees.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="sidebar-container"></div>
    <div class="main-content">
      <div id="header-container"></div>
      <div class="dashboard-wrapper">
        <div class="page-header">
          <h2>Fees &amp; Payments Management</h2>
        </div>
        <div class="actions-row">
          <button class="btn-action" onclick="openModal('structureModal')">
            <i class="fas fa-plus-circle"></i> Add Fee Structure
          </button>
          <button class="btn-action" onclick="openModal('paymentModal')">
            <i class="fas fa-rupee-sign"></i> Record Payment
          </button>
        </div>
        <div class="search-section">
          <input
            id="rollSearch"
            placeholder="Enter Student Roll No"
            type="text"
          />
          <button onclick="fetchPaymentDetails()">Search Details</button>
        </div>
        <div id="fee-results">
          <p style="text-align: center; color: #666; margin-top: 20px">
            Enter a Roll Number to view fee status.
          </p>
        </div>
      </div>
    </div>
    <div class="modal" id="structureModal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal('structureModal')">×</span>
        <h3>Create Fee Structure</h3>
        <div class="form-group">
          <label>Academic Year</label>
          <input id="fs-year" placeholder=" 1, 2, 3, 4" type="number" />
        </div>
        <div class="form-group">
          <label>Quota</label>
          <select id="fs-quota">
            <option value="CONVENER">Convener</option>
            <option value="MANAGEMENT">Management</option>
          </select>
        </div>
        <div class="form-group">
          <label>Residence Type</label>
          <select id="fs-residence">
            <option value="DAY_SCHOLAR">Day Scholar</option>
            <option value="HOSTELER">Hosteler</option>
          </select>
        </div>
        <div class="form-group">
          <label>Tuition Fee (₹)</label>
          <input id="fs-tuition" type="number" />
        </div>
        <div class="form-group">
          <label>Bus/Transport Fee (₹)</label>
          <input id="fs-bus" type="number" />
        </div>
        <div class="form-group">
          <label>Hostel Fee (₹)</label>
          <input id="fs-hostel" type="number" />
        </div>
        <button class="primary-btn" onclick="createFeeStructure()">
          Save Structure
        </button>
      </div>
    </div>
    <div class="modal" id="paymentModal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeModal('paymentModal')">×</span>
        <h3>Record Student Payment</h3>
        <div class="form-group">
          <label>Student Roll Number</label>
          <input id="pay-roll" placeholder="e.g. 21B81A0501" type="text" />
        </div>
        <div class="form-group">
          <label>Fee Type</label>
          <select id="pay-type">
            <option value="TUITION">Tuition Fee</option>
            <option value="HOSTEL">Hostel Fee</option>
            <option value="BUS">Bus Fee</option>
          </select>
        </div>
        <div class="form-group">
          <label>Amount (₹)</label>
          <input
            id="pay-amount"
            placeholder="Enter amount paid"
            type="number"
          />
        </div>
        <div class="form-group">
          <label>Payment Mode</label>
          <select id="pay-mode">
            <option value="CASH">Cash</option>
            <option value="UPI">UPI</option>
            <option value="BANK_TRANSFER">Bank Transfer</option>
            <option value="DD">Demand Draft</option>
          </select>
        </div>
        <button class="primary-btn" onclick="updatePayment()">
          Submit Payment
        </button>
      </div>
    </div>
    <script src="/static/admin/js/main.js"></script>
    <script src="/static/admin/js/fees.js"></script>
  </body>
</html>
